<!DOCTYPE html>
<html style="font-size: 16px;">
  <head>
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Our Team">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>Minha Conta</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
<link rel="stylesheet" href="Eventos.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 3.13.1, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700,700i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald:200,300,400,500,600,700|Lobster:400">
    
    
    
     
 <!-- Meta tags Obrigatórias -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

  


  
     <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-ui-timepicker-addon/1.6.3/jquery-ui-timepicker-addon.min.css" />


 <!------ Include the above in your HEAD tag ---------->
  <link rel="stylesheet" type="text/css" href="css/bootstrap-css.css">


  </head>
  <body class="u-body">

 <header class="u-align-center u-border-1 u-border-grey-25 u-clearfix u-header u-header" id="sec-b094"><div class="u-clearfix u-sheet u-sheet-1">
        <nav class="u-align-center u-menu u-menu-dropdown u-nav-spacing-25 u-offcanvas u-menu-1">
          <div class="menu-collapse u-custom-font u-font-lobster" style="font-size: 1.5rem;">
            <a class="u-button-style u-custom-active-color u-custom-hover-color u-custom-text-active-color u-custom-text-color u-nav-link" href="#" style="padding: 4px 0px; font-size: calc(1em + 8px);">
              <svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 302 302" style=""><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-7b92"></use></svg>
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="svg-7b92" x="0px" y="0px" viewBox="0 0 302 302" style="enable-background:new 0 0 302 302;" xml:space="preserve" class="u-svg-content"><g><rect y="36" width="302" height="30"></rect><rect y="236" width="302" height="30"></rect><rect y="136" width="302" height="30"></rect>
</g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container" style="margin-left: 410px;">
            <ul class="u-custom-font u-font-lobster u-nav u-spacing-8 u-unstyled u-nav-1">

<li class="u-nav-item"><a class="u-active-custom-color-12 u-border-active-palette-1-base u-border-hover-palette-1-base u-button-style u-hover-custom-color-10 u-nav-link u-text-active-white u-text-grey-90 u-text-hover-white" href="Home.html" style="padding: 10px 16px;">Home</a>
</li>
<li class="u-nav-item"><a class="u-active-custom-color-12 u-border-active-palette-1-base u-border-hover-palette-1-base u-button-style u-hover-custom-color-10 u-nav-link u-text-active-white u-text-grey-90 u-text-hover-white" href="Adote.html" style="padding: 10px 16px;">Adote</a>
</li>
<li class="u-nav-item"><a class="u-active-custom-color-12 u-border-active-palette-1-base u-border-hover-palette-1-base u-button-style u-hover-custom-color-10 u-nav-link u-text-active-white u-text-grey-90 u-text-hover-white" href="Eventos.html" style="padding: 10px 16px;">Eventos</a>
</li>
<li class="u-nav-item"><a class="u-active-custom-color-12 u-border-active-palette-1-base u-border-hover-palette-1-base u-button-style u-hover-custom-color-10 u-nav-link u-text-active-white u-text-grey-90 u-text-hover-white" href="Instituicoes.html" style="padding: 10px 16px;">Instituições</a>
</li>
<li class="u-nav-item"><a class="u-active-custom-color-12 u-border-active-palette-1-base u-border-hover-palette-1-base u-button-style u-hover-custom-color-10 u-nav-link u-text-active-white u-text-grey-90 u-text-hover-white" href="Instituicoes.html" style="padding: 10px 180px;">Minha Conta</a>
</li>

</ul>
          </div>
          <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-align-center u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">     
     <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Home.html" style="padding: 10px 30px;">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Adote.html" style="padding: 10px 30px;">Adote</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Eventos.html" style="padding: 10px 30px;">Eventos</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Instituicoes.html" style="padding: 10px 30px;">Instituições</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Instituicoes.html" style="margin-left:10px ;  padding: 15px 50px;">Minha Conta</a>

</li></ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav> 
        <a href="index.html" class="u-border-1 u-border-active-custom-color-10 u-border-hover-custom-color-10 u-btn u-button-style u-custom-font u-font-lobster u-none u-text-body-color u-btn-3">Minha Audoção</a>
        <div alt="" class="u-image u-image-circle u-image-1" data-image-width="1280" data-image-height="853"></div>
      </div></header>


<div class="row">
  <div class="col-4 tableLinha">
    <div class="list-group" id="list-tab" role="tablist">
      <a class="list-group-item list-group-item-action active" id="list-meusdados-list" data-bs-toggle="list" href="#list-meusdados" role="tab" aria-controls="list-home">Meus Dados</a>
      <a class="list-group-item list-group-item-action" onclick="meMostraPets()" id="list-pets-list" data-bs-toggle="list" href="#list-pets" role="tab" aria-controls="list-profile">Pets</a>
      <a class="list-group-item list-group-item-action" onclick="meMostraEventos()"id="list-eventos-list" data-bs-toggle="list" href="#list-eventos" role="tab" aria-controls="list-messages">Eventos</a>
      <a class="list-group-item list-group-item-action" onclick="meMostraFormulario()" id="list-formularios-list" data-bs-toggle="list" href="#list-formulario" role="tab" aria-controls="list-settings">Formulario</a>
    </div>
  </div>
  <div class="col-8">
    <div class="tab-content" id="nav-tabContent">
      <div class="tab-pane fade show active" id="list-meusdados" role="tabpanel" aria-labelledby="list-meusdados-list">


<form class="form-horizontal" method="POST">
<fieldset>

<div class="panel panel-primary">
    
     <div class="panel-body">

<div> <p class="title">  Meus dados <p><p class="help-block"><h11>*</h11> Campo Obrigatório </p>
</div>

<div class="form-group">
 





<div class="form-row">


 <div class="form-group col-md-6">
      <label for="inputTipoPessoa">Tipo Pessoa<h11>*</h11></label>
        <select required="" id="tipo_pessoa_select" name="tipo_pessoa_select" class="form-control">
      <option value="instituicao">Instituição</option>
      <option value="pessoafisica">Pessoa fisica</option> 
    </select>    </div> 
    <div class="form-group col-md-6">
      <label for="inputDocument">Documento<h11>*</h11></label>
      <input type="documento" class="form-control" id="inputDocumento" required="" placeholder="Digite seu Documento">
    </div>
 </div>

<div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputNome">Nome<h11>*</h11></label>
    <input id="nome" name="nome" placeholder="Digite seu nome ou nome da sua instituicao" class="form-control" required="" type="text">
   </div>
 <div class="form-group col-md-6">
      <label for="inputEmail">Email<h11>*</h11></label>
     <input id="email" name="email" class="form-control" placeholder="email@email.com" required="" type="text" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" >     </div>
 
</div>

<div class="form-row">
    <div class="form-group col-md-4">
      <label for="inputTelefone"> Telefone<h11>*</h11> </label>
     <input id="telefone" name="telefone" class="form-control" placeholder="xx xxxxx-xxxx" required="" type="text" maxlength="13" pattern="\[0-9]{2}\ [0-9]{4,6}-[0-9]{3,4}$"   
      OnKeyPress="formatar('## #####-####', this)"> </div>
 <div class="form-group col-md-4">
      <label for="inputCep">Cep <h11>*</h11></label>
    <input id="cep" name="cep" placeholder="Apenas números" class="form-control" required="" value=""  onkeypress='return event.charCode >= 48 && event.charCode <= 57'  type="search" maxlength="8" pattern="[0-9]+$">
   </div>
<div class="form-group col-md-4"><br>
    <button type="button" class="btn btn-primary btn-pesquisarCep" onclick="pesquisacep(cep.value) ">Pesquisar</button>
    </div>

 </div>

<p>Endereco</p>

<div class="form-row">
    <div class="form-group col-md-4">
      <label for="inputRua">Rua</label>
    <input id="rua" name="rua" placeholder="Nome da rua" class="form-control" required=""  readonly="readonly" type="text">
   </div>
 <div class="form-group col-md-4">
      <label for="inputCidade">Nº</label>
     <input id="numero" name="numero" class="form-control" placeholder="Numero" required="" type="text">     </div>
 <div class="form-group col-md-4">
      <label for="inputBairro">Bairro </label>
     <input id="bairro" name="bairro" class="form-control" placeholder="Bairro" required="" type="text"  readonly="readonly" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" >     </div>
 
</div>


<div class="form-row">
    <div class="form-group col-md-4">
      <label for="inputRua">Cidade</label>
    <input id="cidade" name="cidade" placeholder="Cidade" class="form-control" required=""  readonly="readonly" type="text">
   </div>
 <div class="form-group col-md-4">
      <label for="inputEstado">Estado</label>
     <input id="estado" name="estado" class="form-control" placeholder="Estado" required="" type="text" readonly="readonly" >     </div>
 
 
</div>


<div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputNome">Senha<h11>*</h11></label>
    <input id="senha" name="senha" placeholder="Digite sua senha" class="form-control" required="" type="text">
   </div>
 <div class="form-group col-md-6">
      <label for="inputEmail">Confirmação de Senha<h11>*</h11></label>
     <input id="confsenha" name="confsenha" class="form-control" placeholder="Confirme a senha" required="" type="password"> 
 </div>
 </div>


<!-- Button (Double) -->
<div class="form-row">
    <div class="form-group col-md-6">
    <button id="Cadastrar" name="Cadastrar" class="btn btn-success" type="Submit">Cadastrar</button> 

    <button id="Cancelar" name="Cancelar" class="btn btn-danger" type="Reset">Cancelar</button>
  </div> 
</div>

</div>
</div>


</fieldset>
</form>


 </div>

<script>

function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}


function onlynumber(evt) {
   var theEvent = evt || window.event;
   var key = theEvent.keyCode || theEvent.which;
   key = String.fromCharCode( key );
   //var regex = /^[0-9.,]+$/;
   var regex = /^[0-9.]+$/;
   if( !regex.test(key) ) {
      theEvent.returnValue = false;
      if(theEvent.preventDefault) theEvent.preventDefault();
   }
}

function mostraEscondePets(buttonName){
var obj = document.getElementById("tablePets");
obj.style.display = "none"; 
var x = document.getElementById("formPetsDiv");
x.style.visibility = "visible";
var button = document.getElementById("cadastrar_pet");
if(buttonName==1)
button.innerText = "Editar pet"
if(buttonName==2)
button.innerText = "Cadastrar pet"

}

function mostraEscondeEventos(buttonName, campoId){
var obj = document.getElementById("tableEventos");
obj.style.display = "none"; 
var x = document.getElementById("formEventosDiv");
x.style.visibility = "visible";
var button = document.getElementById("cadastrar_evento");
if(buttonName==1){
button.innerText = "Editar evento"
console.log(campoId);
preencherFormEvento(campoId);
}
if(buttonName==2)
button.innerText = "Cadastrar evento" 
}


async function preencherFormEvento(campoId){


console.log(campoId);
let response  = await fetch("http://minhaudocao.com.br:8080/api/evento/"+campoId+"", { method: 'GET', headers: { 'Content-Type': 'application/json;charset=utf-8','Authorization':"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYXJpbGlhZ3BtQGhvdG1haWwuY29tIiwiaWF0IjoxNjI1OTQ2ODM5LCJleHAiOjE2MjU5ODI4Mzl9.n0ROetUNIpQynu2smozGaiKNt51YFwKiNXMTwVPGEuM"} }); 


console.log(campoId);

if (response.status === 200) {
data= await response.json();
console.log(data);


document.getElementById("titulo_evento").value=data.nome;
document.getElementById('cep_evento').value=data.endereco.cep;
document.getElementById('rua_evento').value=data.endereco.logradouro;
document.getElementById('bairro_evento').value=data.endereco.bairro;
document.getElementById('cidade_evento').value=data.endereco.cidade;
document.getElementById('estado_evento').value=data.endereco.estado;
document.getElementById('numero_evento').value=data.endereco.numero;
document.getElementById("descricao_evento").value=data.descricao;

document.getElementById("datepicker1").value=data.datas[0].horaInicio
document.getElementById("datepicker2").value=data.datas[0].horaFim


}

else{ alert("Não foi possível a inclusão do cadastro!"); }
}




function mostraEscondeFormulario(buttonName,campoId){
var obj = document.getElementById("tableFormulario");
obj.style.display = "none"; 
var x = document.getElementById("formFormularioDiv");
    x.style.visibility = "visible";
var button = document.getElementById("cadastrar_campo");
button.innerText = buttonName;
if(buttonName==1){
button.innerText = "Editar campo"
console.log(campoId);
preencherFormCampo(campoId);
}
if(buttonName==2){
button.innerText = "Cadastrar campo"

}
}

function capitalizeFirstLetter(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}

async function preencherFormCampo(campoId){


console.log(campoId);
let response  = await fetch("http://minhaudocao.com.br:8080/api/formulario/"+campoId+"", { method: 'GET', headers: { 'Content-Type': 'application/json;charset=utf-8','Authorization':"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYXJpbGlhZ3BtQGhvdG1haWwuY29tIiwiaWF0IjoxNjI1OTQ2ODM5LCJleHAiOjE2MjU5ODI4Mzl9.n0ROetUNIpQynu2smozGaiKNt51YFwKiNXMTwVPGEuM"} }); 


console.log(campoId);

if (response.status === 200) {
data= await response.json();
console.log(data);

document.getElementById("nome_campo").value= data.nome;
var tipo = capitalizeFirstLetter(data.tipo)
console.log(tipo); 
$("#tipo_campo_select").find('option:contains("' + tipo + '")').prop('selected', true);
$("#obrigatorio_select").find('option:contains("' + changeLabel(data.obrigatorio) + '")').prop('selected', true);




}

else{ alert("Não foi possível a inclusão do cadastro!"); }
}

 


function formatar(mascara, documento){
  var i = documento.value.length;
  var saida = mascara.substring(0,1);
  var texto = mascara.substring(i);
  
  if (texto.substring(0,1) != saida){
            documento.value += texto.substring(0,1);
  }
  
  
}

function meMostraPets(){ 
var obj = document.getElementById("tablePets");
obj.style.visibility = "visible"; 
obj.style.display = "table"; 

window.scrollTo(0, 0); 
var x = document.getElementById("formPetsDiv");
    x.style.visibility = "hidden";
}

function meMostraFormulario(){

var obj = document.getElementById("tableFormulario");
obj.style.visibility = "visible"; 
obj.style.display = "table";  
window.scrollTo(0, 0);

buscaCampo(); 
var x = document.getElementById("formFormularioDiv");
x.style.visibility = "hidden";  

 

}


function meMostraEventos(){
var x = document.getElementById("formEventosDiv");
   var obj = document.getElementById("tableEventos");
obj.style.visibility = "visible"; 
obj.style.display = "table"; 

window.scrollTo(0, 0);

var x = document.getElementById("formEventosDiv");
    x.style.visibility = "hidden";
}


async function addCampo(){ 


 
var  nome= document.getElementById("nome_campo").value;
 
	if(nome==""){
	alert("Preencher o nome do campo")	
	return ;
	}
    
    var select_tipo_campo = document.getElementById("tipo_campo_select")
    var select_tipocampo_value = select_tipo_campo.options[select_tipo_campo.selectedIndex].value;
    
if(select_tipocampo_value ==""){
	alert("Preencher o tipo do campo")	
	}

    var select_obrigatorio = document.getElementById("obrigatorio_select") 
	var select_obrigatorio_value = select_obrigatorio.options[select_obrigatorio.selectedIndex].value;
  
if(select_obrigatorio_value ==""){
	alert("Preencher se o campo e obrigatorio")	
	}     
var ob;
if(select_obrigatorio_value =="sim"){
ob=true 
}     
if(select_obrigatorio_value =="nao"){
ob=false
 
}     
 

let response  = await fetch("http://minhaudocao.com.br:8080/api/formulario/add", { method: "POST", headers: {'Content-Type': 'application/json;charset=utf-8','Authorization':"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYXJpbGlhZ3BtQGhvdG1haWwuY29tIiwiaWF0IjoxNjI1OTQ2ODM5LCJleHAiOjE2MjU5ODI4Mzl9.n0ROetUNIpQynu2smozGaiKNt51YFwKiNXMTwVPGEuM"}, body: JSON.stringify({ "instituicao": { "id": 1 }, "nome": nome, "obrigatorio": ob, "ordem": 0, "tipo":  select_tipocampo_value }) }); 

if (response.status === 200) { alert("Cadastro efetuado com sucesso!") ;document.getElementById("nome_campo").value="";
 
sleep(10); buscaCampo(); meMostraFormulario(); }

else{ alert("Não foi possível a inclusão do cadastro!"); }


     console.log("response = "+response.status)


     console.log(nome)
     console.log(select_tipocampo_value)
     console.log(select_obrigatorio_value)

 
}



async function addEvento(){ 


 
var  titulo= document.getElementById("titulo_evento").value;
 
if(titulo ==""){
	alert("Preencher o nome do evento")	
	document.getElementById("titulo_evento").focus();
	return ;
}
    


var cep = document.getElementById('cep_evento').value;
if(cep ==""){
	alert("Preencher o cep do evento")	
	document.getElementById('cep_evento').focus();
	return ;
}



var rua = document.getElementById('rua_evento').value;
var bairro = document.getElementById('bairro_evento').value;
var cidade = document.getElementById('cidade_evento').value;
var estado = document.getElementById('estado_evento').value;
var numero = document.getElementById('numero_evento').value;

if(numero ==""){
	alert("Preencher o numero do endereco do evento");	document.getElementById('numero').focus();
	return ;
}



if(rua ==""){
	alert("Preencher os dados do endereco")	 
	return ;
}

var descricao = document.getElementById('descricao_evento').value; 
if(descricao ==""){
	alert("Preencher a descricacao do evento");	document.getElementById('descricao_evento').focus();
	return ;
}

   
var fotos = document.getElementById("inputGroupFile01_event").files[0];
if(fotos==null){
	alert("Preencher foto evento")	
return ;
}


var foto = document.getElementById("inputGroupFile01_event").files[0].name;
if(foto ==""){
	alert("Preencher foto evento")	
	document.getElementById("inputGroupFile01_event").focus();
	return ;
}

var data1 = document.getElementById('datepicker1').value;
if(data1 ==""){
	alert("Preencher data/hora final do evento")	
	document.getElementById('datepicker1').focus();
	return ;
}

var data2 = document.getElementById('datepicker2').value;
 if(data2 ==""){
	alert("Preencher data/hora final do evento")	
	document.getElementById('datepicker2').focus();
	return ;
}

  
 

console.log(titulo) 
console.log(cep) 
console.log(rua) 
console.log(numero) 
console.log(bairro) 
console.log(cep) 
console.log(estado) 
console.log(descricao)
console.log(foto)
console.log(data1)

console.log(data1.substring(0,10))

console.log(data1.substring(11,16))

console.log(data2.substring(11,16))
console.log(data2)
dataf=data1.substring(0,10)

console.log(dataf)
var year=data1.substring(6,10)
var month=data1.substring(3,5)
var day=data1.substring(0,2)
console.log(year)
console.log(month)
console.log(day)
 
var dataFormatada = year +"-"+ month +"-"+ day

console.log(dataFormatada)
 



let response  = await fetch("http://minhaudocao.com.br:8080/api/evento/add", { method: 'POST', headers: { 'Content-Type': 'application/json;charset=utf-8','Authorization':"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYXJpbGlhZ3BtQGhvdG1haWwuY29tIiwiaWF0IjoxNjI1OTQ2ODM5LCJleHAiOjE2MjU5ODI4Mzl9.n0ROetUNIpQynu2smozGaiKNt51YFwKiNXMTwVPGEuM"}, body: JSON.stringify({ 
 "datas": [
    {
      "data": dataFormatada,
      "horaFim": data1.substring(11,16),
      "horaInicio": data2.substring(11,16)    
 }
  ],
  "descricao": descricao,
  "endereco": {
    "cep": cep,
    "cidade": cidade,
    "estado": estado,
    "logradouro": rua ,
    "numero": numero
  },
  
  "instituicao": {
    "id": "1"
    
  },
  "nome": titulo


 }) }); 




if (response.status === 200) { alert("Cadastro efetuado com sucesso!") ;document.getElementById("nome_campo").value="";
 
sleep(10); 
buscaEventos();  
meMostraEventos(); 
document.getElementById("titulo_evento").value="";
document.getElementById('cep_evento').value="";
document.getElementById('rua_evento').value="";
document.getElementById('numero_evento').value="";
document.getElementById('bairro_evento').value="";
document.getElementById('cidade_evento').value="";
document.getElementById('estado_evento').value="";
document.getElementById('descricao_evento').value=""; 
document.getElementById("inputGroupFile01_event").files[0].name="";
document.getElementById('datepicker1').value="";
var data2 = document.getElementById('datepicker2').value="";
}

else{ alert("Não foi possível a inclusão do cadastro!"); }




console.log(foto) 
 
}




async function addPet(){ 


 
var  nome= document.getElementById("nome_pet").value;
 
if(nome ==""){
	alert("Preencher o nome do Pet")	
	document.getElementById("nome_pet").focus();
	return ;
}
    

var  idade_pet= document.getElementById("idade_pet").value;
 
if(idade_pet ==""){
	alert("Preencher a idade do Pet")	
	document.getElementById("idade_pet").focus();
	return ;
}
   

var especie_select = document.getElementById("especie_select") 
var especie_select_value = especie_select.options[especie_select.selectedIndex].value;
  
if(especie_select_value ==""){
	alert("Preencher a especie do pet")
}  

 
var sexo_select_pet = document.getElementById("sexo_select_pet") 
var sexo_select_pet_value = sexo_select_pet.options[sexo_select_pet.selectedIndex].value;
  
if(sexo_select_pet_value ==""){
	alert("Preencher o genero do pet")	
}  

var status_pet_select = document.getElementById("status_pet_select") 
var status_pet_select_value = status_pet_select.options[status_pet_select.selectedIndex].value;
  
if(status_pet_select ==""){
	alert("Preencher o status do pet")	
}  
  
var vacinado_select_pet = document.getElementById("vacinado_select") 
var vacinado_select_pet_value = vacinado_select_pet.options[vacinado_select_pet.selectedIndex].value;
  
if(vacinado_select ==""){
	alert("Preencher se o pet eh vacinado ou nao ")	
}  


var castrado_pet_select = document.getElementById("castrado_pet_select") 
var castrado_pet_select_value = castrado_pet_select.options[castrado_pet_select.selectedIndex].value;
  
if(castrado_pet_select_value ==""){
	alert("Preencher se o pet eh vacinado ou nao ")	
}  


var  descricao_pet= document.getElementById("descricao_pet").value;
 
if(descricao_pet ==""){
	alert("Preencher a descricao do Pet")	
	document.getElementById("descricao_pet").focus();
	return ;
}

var foto1 = document.getElementById("inputGroupFile01_pet").files[0];
if(foto1 ==null){
	alert("Preencher pelo menos uma foto do pet")	
return ;
}


var foto2 = document.getElementById("inputGroupFile02_pet").files[0];
var foto3 = document.getElementById("inputGroupFile03_pet").files[0];
var foto4 = document.getElementById("inputGroupFile04_pet").files[0];
 
 

console.log(nome) 
console.log(idade_pet) 
console.log(especie_select_value) 
console.log(sexo_select_pet_value)
console.log(vacinado_select_pet_value) 
console.log(status_pet_select_value) 
console.log(castrado_pet_select_value) 
console.log(descricao_pet) 
console.log(foto1) 

var imagemEnder;

 var myHeaders = new Headers();
 myHeaders.append('Authorization',"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYXJpbGlhZ3BtQGhvdG1haWwuY29tIiwiaWF0IjoxNjI1OTQ2ODM5LCJleHAiOjE2MjU5ODI4Mzl9.n0ROetUNIpQynu2smozGaiKNt51YFwKiNXMTwVPGEuM");
myHeaders.append("Content-Type", "multipart/form-data");

    var formdata = new FormData();
    formdata.append("file", foto1, foto1.name);

  let responseFoto = await fetch('http://minhaudocao.com.br:8080/api/uploadFoto', {
        method: 'POST',
        header:myHeaders,
        body: formdata
    });

if (responseFoto.status === 200) { 

   imagemEnder = await responseFoto.text();

console.log("teste") 
        console.log(imagemEnder);

console.log("testec") 

}



sleep(10);
let response  = await fetch("http://minhaudocao.com.br:8080/api/pet/add", { method: 'POST', headers: { 'Content-Type': 'application/json;charset=utf-8','Authorization':"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYXJpbGlhZ3BtQGhvdG1haWwuY29tIiwiaWF0IjoxNjI1OTQ2ODM5LCJleHAiOjE2MjU5ODI4Mzl9.n0ROetUNIpQynu2smozGaiKNt51YFwKiNXMTwVPGEuM"}, body: JSON.stringify({ 
  
"adotado": true,
  "castrado": true,
  "descricao": descricao_pet,
  "especie": especie_select_value,
  "fotos": [
  ],
  "genero": sexo_select_pet_value, 
  "idade": idade_pet,
  "instituicao": {
        "id": 1
  },
  "nome": nome,
  "vacinado": true ,
  "uriFotos": [
    imagemEnder
  ]
    


 }) }); 




if (response.status === 200) {
alert("Cadastro efetuado com sucesso!");
sleep(10); 
buscaPets(); 
meMostraPets(); 

 
}

else{ alert("Não foi possível a inclusão do cadastro!"); }











 

}









function pesquisacep(valor) {

        //Nova variável "cep" somente com dígitos.
        var cep = valor.replace(/\D/g, '');

        //Verifica se campo cep possui valor informado.
        if (cep !== "") {

            //Expressão regular para validar o CEP.
            var validacep = /^[0-9]{8}$/;

            //Valida o formato do CEP.
            if(validacep.test(cep)) {

                //Preenche os campos com "..." enquanto consulta webservice.
                document.getElementById('rua').value="...";
                document.getElementById('bairro').value="...";
                document.getElementById('cidade').value="...";
                document.getElementById('estado').value="...";
         
                requestCep("s",cep);
				
            } //end if.
            else {
                //cep é inválido.
                limpa_formulario_cep();
                alert("Formato de CEP inválido.");
            }
        } //end if.
        else {
			 alert("Informe um cep válido");
            //cep sem valor, limpa formulário.
            limpa_formulario_cep();
        }
}

function requestCep(url, name) {
  fetch("https://api.postmon.com.br/v1/cep/" + name)
    .then(response => response.ok ? response.json():alert("Cep não encontrado"))
    .then(data => {
          
                document.getElementById('estado').value=data.estado;
				document.getElementById('rua').value= data.logradouro;
                document.getElementById('bairro').value=data.bairro;
                document.getElementById('cidade').value=data.cidade; 

    })
    .catch(err => console.log(err));
}

function limpa_formulario_cep() {
            //Limpa valores do formulário de cep.
            document.getElementById('rua').value=("");
            document.getElementById('bairro').value=("");
            document.getElementById('cidade').value=("");
            document.getElementById('estado').value=("");
            
}


function pesquisacep_evento(valor) {

        //Nova variável "cep" somente com dígitos.
        var cep = valor.replace(/\D/g, '');

        //Verifica se campo cep possui valor informado.
        if (cep !== "") {

            //Expressão regular para validar o CEP.
            var validacep = /^[0-9]{8}$/;

            //Valida o formato do CEP.
            if(validacep.test(cep)) {

                //Preenche os campos com "..." enquanto consulta webservice.
                document.getElementById('rua_evento').value="...";
                document.getElementById('bairro_evento').value="...";
                document.getElementById('cidade_evento').value="...";
                document.getElementById('estado_evento').value="...";
         
                requestCep_evento("s",cep);
				
            } //end if.
            else {
                //cep é inválido.
                limpa_formulario_cep_evento();
                alert("Formato de CEP inválido.");
            }
        } //end if.
        else {
			 alert("Informe um cep válido");
            //cep sem valor, limpa formulário.
            limpa_formulario_cep_evento();
        }
}

function requestCep_evento(url, name) {
  fetch("https://api.postmon.com.br/v1/cep/" + name)
    .then(response => response.ok ? response.json():alert("Cep não encontrado"))
    .then(data => {
          
                document.getElementById('estado_evento').value=data.estado;
				document.getElementById('rua_evento').value= data.logradouro;
                document.getElementById('bairro_evento').value=data.bairro;
                document.getElementById('cidade_evento').value=data.cidade; 

    })
    .catch(err => console.log(err));
}

function limpa_formulario_cep_evento() {
            //Limpa valores do formulário de cep.
            document.getElementById('rua_evento').value=("");
            document.getElementById('bairro_evento').value=("");
            document.getElementById('cidade_evento').value=("");
            document.getElementById('estado_evento').value=("");
            
}




 
</script>

<script> 

</script>

      <div class="tab-pane fade" id="list-pets" role="tabpanel" aria-labelledby="list-pets-list" onload="meMostraPets()"> 


<div id="tablePets"    style="visibility: visible;" >
<div> <p class="title">  Meus Pets<p> </div>
<div>
<button type="button" class="btn btn-adicionar-pet"  onclick="mostraEscondePets(2)">Adicionar novo Pet</button>
</div>

<table  class="table table-striped">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Nome</th>
      <th scope="col">Especie</th>
      <th scope="col">Status</th>
      <th scope="col">Acao</th>

    </tr>

  </thead>
  <tbody id="tbodyPets">



<script>

async function fetchPets() {

  let response = await fetch("http://minhaudocao.com.br:8080/api/pet/instituicao/1",{ method: 'GET', headers: {'Authorization':"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYXJpbGlhZ3BtQGhvdG1haWwuY29tIiwiaWF0IjoxNjI1OTQ2ODM5LCJleHAiOjE2MjU5ODI4Mzl9.n0ROetUNIpQynu2smozGaiKNt51YFwKiNXMTwVPGEuM"}});	
	return  await  response.json();; 
 
    
}
 

function changeLabel(label){
if(label==true)
return "Sim";
return "Nao";
}

async function buscaPets(){
var html="";
var buttonName = "Editar"
var data = await fetchPets();
console.log(data);
for (var i = 0;i<data.length;i++){
      
         console.log(i);

	 html+= '<tr>'
    html+=  '<th scope="row">'+i+'</th>'
    html+=  '<td>'+data[i].nome+'</td>'
    html+=  '<td>'+data[i].especie+'</td>'
    html+=   '<td>'+ changeLabel(data[i].status)+'</td>' 
    html+=   '<td hidden >'+ data[i].id+ '</td>' 
     html+= '<td>'
html+='<button type="button" class="btn btn-editar" onclick="mostraEscondePets(1)" >Editar</button> ' 
html+='<button type="button" class="btn btn-excluir">Excluir</button>'
 html+= '</tr>' 
}

console.log(html);

document.getElementById("tbodyPets").innerHTML = "";
document.getElementById('tbodyPets').innerHTML+=html;


 
} 
buscaPets();

</script>





   </tbody>



</table>
<br><br>
 <p class="u-align-center u-custom-font u-font-oswald u-text u-text-3"><nav aria-label="...">
  <ul class="pagination" >
    <li class="page-item disabled">
      <a class="page-link" href="#" tabindex="-1">Anterior</a>
    </li>
    <li class="page-item" ><a class="page-link"  style="color: purple" href="#">1</a></li>
    <li class="page-item active">
      <a class="page-link"  style="background-color:purple;border-color:purple" href="#">2 <span class="sr-only">(atual)</span></a>
    </li>
    <li class="page-item"><a  style="color: purple" class="page-link" href="#">3</a></li>
    <li class="page-item">
      <a class="page-link"  style="color: purple" href="#">Próximo</a>
    </li>
  </ul>
</nav></p>
    </div> 


<div id="formPetsDiv" style="visibility: hidden;" >

<form id="formPets" class="form-horizontal" method="POST" enctype="multipart/form-data">

<fieldset>
<div class="panel panel-primary">
    
     <div class="panel-body">
<div> <p class="title">  Meus Pets<p> </div>

<div class="form-group">
 
<div class="col-md-11 control-label">
        <p class="help-block"><h11>*</h11> Campo Obrigatório </p>
</div>
</div>


  
<div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputNome">Nome<h11>*</h11></label>
       <input id="nome_pet" name="nome_pet" placeholder="Digite o nome do pet" class="form-control" required="" type="text">
  </div>
 <div class="form-group col-md-6">
      <label for="idade_pet">Idade</label>
     <input id="idade_pet" name="idade_pet" class="form-control" placeholder="Somente numeros" required="" type="text" onkeypress='return event.charCode >= 48 && event.charCode <= 57'  >     </div>
 
</div>

<div class="form-row">

 <div class="form-group col-md-4">
      <label for="inputEspecie">Especie<h11>*</h11></label>
       <select required id="especie_select" name="especie_select" class="form-control">
      <option value="cachorro">Cachorro </option>
      <option value="gato">Gato</option> 
      <option value="coelho">Coelho</option> 
      <option value="passaro">Passaro</option> 
      <option value="hamster">Hamster</option> 
      <option value="outro">Outro</option> 
    </select>
 </div> 
    <div class="form-group col-md-4">
      <label class="inputGenero" for="sexo">Genero<h11>*</h11></label>
 
    <select required id="sexo_select_pet" name="sexo_select_pet" class="form-control">
      <option value="macho">Macho </option>
      <option value="femea">Femea</option>  
    </select>
  </div>
 <div class="form-group col-md-4">
      <label class="inputVacinado" for="vacinado">Vacinado<h11>*</h11></label>
 
    <select required id="vacinado_select" name="vacinado_select" class="form-control">
      <option value="sim">Sim </option>
      <option value="nao">Nao</option>  
    </select>
  </div>

</div>



<div class="form-row">

  
 <div class="form-group col-md-4">
      <label class="inputStatus" for="status">Status<h11>*</h11></label>
 
    <select required id="status_pet_select" name="status_pet_select" class="form-control">
      <option value="adotado">Adotado</option>
      <option value="praAdocao">Em adocao</option>  
    </select>
  </div>

 <div class="form-group col-md-4">
      <label class="inputCastrado" for="castrado">Castrado<h11>*</h11></label>
 
    <select required id="castrado_pet_select" name="castrado_pet_select" class="form-control">
      <option value="sim">Sim</option>
      <option value="nao">Nao</option>  
    </select>
  </div>

</div>
  
<br><br>


 <div class="form-group">
  <span class="input-group-text spanDescricao">Descricao</span>
  <textarea id="descricao_pet" class="form-control txtDescricao" aria-label="With textarea"></textarea>
</div>
 
<br>

<div class="input-group mb-3">
  <label class="input-group-text" for="inputGroupFile01">Foto 1</label>
  <input type="file" class="form-control" id="inputGroupFile01_pet">
</div>

<div class="input-group mb-3">
  <label class="input-group-text" for="inputGroupFile02">Foto 2</label>
  <input type="file" class="form-control" id="inputGroupFile02_pet">
</div>

<div class="input-group mb-3">
  <label class="input-group-text" for="inputGroupFile03">Foto 3</label>
  <input type="file" class="form-control" id="inputGroupFile03_pet">
</div>

<div class="input-group mb-3">
  <label class="input-group-text" for="inputGroupFile04">Foto 4</label>
  <input type="file" class="form-control" id="inputGroupFile04_pet">
</div>


 
  
<!-- Button (Double) -->
<div class="form-row">
    <div class="form-group col-md-6">
    <button id="cadastrar_pet" name="cadastrar_pet" class="btn btn-success" type="Submit" onclick="addPet();return false">Cadastrar</button> 

    <button id="Cancelar" name="Cancelar" class="btn btn-danger" type="Reset"  onclick="meMostraPets()">Cancelar</button>
  </div> 
</div>
 
 

</div>
</div>


</fieldset>
</form>


</div>

  </div>
      <div class="tab-pane fade" id="list-eventos" role="tabpanel" aria-labelledby="list-eventos-list" onload="meMostraEventos()">


<div> <p class="title"> Meus Eventos<p> </div>

<div id="tableEventos"    style="visibility: visible;" >

<div>
<button type="button" class="btn btn-adicionar-pet"  onclick="mostraEscondeEventos(2,0)">Adicionar novo evento</button>
</div>
<table  class="table table-striped">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Titulo</th>
      <th scope="col">Estado</th>
      <th scope="col">Cidade</th>
      <th scope="col">Acao</th>

    </tr>

  </thead>
  <tbody id="tbodyEvento" >

<script>


async function fetchEvento() {

  let response = await fetch("http://minhaudocao.com.br:8080/api/evento/all");	
	return  await  response.json();; 
 
    
}

async function buscaEventos(){
var html="";
var data = await fetchEvento();
console.log(data);
for (var i = 0;i<data.length;i++){
      
         console.log(i);

	 html+= '<tr>'
    html+=  '<th scope="row">'+i+'</th>'
    html+=  '<td>'+data[i].nome+'</td>'
    html+=  '<td>'+data[i].endereco.estado+'</td>'
    html+=   '<td>'+data[i].endereco.cidade+'</td>' 
    html+=   '<td hidden >'+ data[i].id+ '</td>' 
     html+= '<td>'
html+='<button type="button" class="btn btn-editar" onclick="mostraEscondeEventos(1,'+data[i].id+')"   >Editar</button> ' 
html+='<button type="button" class="btn btn-excluir">Excluir</button>'
 html+= '</tr>' 
}

console.log(html);
var d1 = document.getElementById('tbodyEvento');
d1.insertAdjacentHTML('beforeend', html);
} 
buscaEventos();


</script>

   </tbody>



</table>
<br><br>
 <p class="u-align-center u-custom-font u-font-oswald u-text u-text-3"><nav aria-label="...">
  <ul class="pagination" >
    <li class="page-item disabled">
      <a class="page-link" href="#" tabindex="-1">Anterior</a>
    </li>
    <li class="page-item" ><a class="page-link"  style="color: purple" href="#">1</a></li>
    <li class="page-item active">
      <a class="page-link"  style="background-color:purple;border-color:purple" href="#">2 <span class="sr-only">(atual)</span></a>
    </li>
    <li class="page-item"><a  style="color: purple" class="page-link" href="#">3</a></li>
    <li class="page-item">
      <a class="page-link"  style="color: purple" href="#">Próximo</a>
    </li>
  </ul>
</nav></p>
    </div> 





<div id="formEventosDiv" style="visibility: hidden;" >

<form id="formEventos" class="form-horizontal" method="POST">
<fieldset>
<div class="panel panel-primary">
    
     <div class="panel-body">
<div class="form-group">
 <div> <p class="title"> Meus Eventos<p> </div>

<div class="col-md-11 control-label">
        <p class="help-block"><h11>*</h11> Campo Obrigatório </p>
</div>
</div>


<div class="form-row">



    <div class="form-group col-md-6">
      <label for="inputNomeEvento">Nome do evento</label>
      <input id="titulo_evento" name="titulo_evento" placeholder="Digite o titulo do evento" class="form-control " required="" type="text">
 </div>
 </div>
<br>

<div class="form-row">



    <div class="form-group col-md-9">
     <span class="input-group-text spanDescricao">Descricao</span>
  <textarea  id="descricao_evento"  class="form-control txtDescricao" aria-label="With textarea"></textarea> </div>
 </div>


  <div class="form-row">
  
 <div class="form-group col-md-4">
      <label for="inputCep">Cep <h11>*</h11></label>
    <input id="cep_evento" name="cep_evento" placeholder="Apenas números" class="form-control" required="" value="" type="search" maxlength="8" pattern="[0-9]+$">
   </div>
<div class="form-group col-md-4"><br>
    <button type="button" class="btn btn-primary btn-pesquisarCep" onclick="pesquisacep_evento(cep_evento.value)">Pesquisar</button>
    </div>

 </div>

 

 





<p>Endereco</p>

<div class="form-row">
    <div class="form-group col-md-4">
      <label for="inputRua">Rua</label>
    <input id="rua_evento" name="rua_evento" placeholder="Nome da rua" class="form-control" required=""  readonly="readonly" type="text">
   </div>
 <div class="form-group col-md-4">
      <label for="inputCidade">Nº</label>
     <input id="numero_evento" name="numero_evento" class="form-control" placeholder="Numero" required="" type="text" >     </div>
 <div class="form-group col-md-4">
      <label for="inputBairro">Bairro </label>
     <input id="bairro_evento" name="bairro_evento" class="form-control" placeholder="Bairro" required="" type="text"  readonly="readonly" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" >     </div>
 
</div>


<div class="form-row">
    <div class="form-group col-md-4">
      <label for="inputRua">Cidade</label>
    <input id="cidade_evento" name="cidade_evento" placeholder="Cidade" class="form-control" required=""  readonly="readonly" type="text">
   </div>
 <div class="form-group col-md-4">
      <label for="inputEstado">Estado</label>
     <input id="estado_evento" name="estado_evento" class="form-control" placeholder="Estado" required="" type="text" readonly="readonly" >     </div>
 
 
</div>

 
<br> 

 
 

<br>
 <div class="input-group mb-3">
  <label class="input-group-text" for="inputGroupFile01_event">Foto do Evento</label>
  <input type="file" class="form-control" id="inputGroupFile01_event">
</div>

<br>

<div class="geral">
     
<p>
 

Data e hora inical :  <input type="text" id="datepicker1" class="datepicker">  Data e hora final : <input type="text" class="datepicker" id="datepicker2">  
<button type="button" class="btn btn-editar" onclick="addDate()">+</button></p> 
</div>


<div id="copyArea"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-ui-timepicker-addon/1.6.3/jquery-ui-timepicker-addon.min.js"></script>
 
 <script>
function addDate(){
let numberOfCopies = 1 // Número de cópias;
let divToCopy = document.getElementsByClassName("geral")[0]  // Conteúdo a copiar
let locationToAppend = document.getElementById("copyArea") // Local a adicionar o conteúdo;

// Ciclo que irá efetuar as cópias necessárias
for (let i = 0; i < numberOfCopies; i++) { 
  let clonedDiv = divToCopy.cloneNode(true); // Clone do conteúdo a copiar
  locationToAppend.appendChild(clonedDiv); // Append do conteúdo no local definido

} 

convertTxtToDate()

}
 
function convertTxtToDate() {
        $('input.datepicker').each(function () {
            if ($(this).hasClass('hasDatepicker')) {
                $(this).removeClass('hasDatepicker');
            } 
             
        });

 jQuery(function($) {
        $("input.datepicker").datetimepicker({
    showOn: "focus",
    dateFormat: "dd/mm/yy",
    dayNames: ["Domingo", "Segunda", "Terça", "Quarte", "Quinta", "Sexta", "Sábado"],
    dayNamesMin: ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "Sab"],
    monthNames: ['Janeiro','Fevereiro','Março','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'],
 dateFormat: 'dd/mm/yy',
        closeText:"Fechar",
        prevText:"&#x3C;Anterior",
        nextText:"Próximo&#x3E;",
        currentText:"Hoje",
		 timeText:"Hora"	,
        minuteText :"Minutos",
	      hourText:"Hora"	
 }



);
    });




    } 
</script>


 


 <!-- Button (Double) -->
<div class="form-row">
    <div class="form-group col-md-6">
    <button id="cadastrar_evento" name="cadastrar_campo" class="btn btn-success" type="Submit" onclick="addEvento();return false">Cadastrar</button> 

    <button id="cancelar_evento" name="cancelar_campo" class="btn btn-danger" type="Reset" onclick="meMostraEventos()">Cancelar</button>
  </div> 
</div>

 

</div>
</div>


</fieldset>
</form>


</div>






 	  </div>




<div class="tab-pane fade" id="list-formulario" role="tabpanel" aria-labelledby="list-formulario-list">



<div id="tableFormulario"    style="visibility: visible;" >


<div> <p class="title"> Formulario <p> </div>
<div>
<button type="button" class="btn btn-adicionar-campo"  onclick="mostraEscondeFormulario(2,0)">Adicionar novo campo</button>
</div>

<table  class="table table-striped">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Nome do campo </th>
      <th scope="col">Tipo</th>
      <th scope="col">Obrigatorio</th>
      <th scope="col">Acao</th>

    </tr>

  </thead>
  <tbody id="tbodyCampo"> 

<script>

async function fetchCampoFormulario() {

  let response = await fetch("http://minhaudocao.com.br:8080/api/formulario/all",{ method: 'GET', headers: {'Authorization':"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYXJpbGlhZ3BtQGhvdG1haWwuY29tIiwiaWF0IjoxNjI1OTQ2ODM5LCJleHAiOjE2MjU5ODI4Mzl9.n0ROetUNIpQynu2smozGaiKNt51YFwKiNXMTwVPGEuM"}});	
	return  await  response.json();; 
 
    
}
 

function changeLabel(label){
if(label==true)
return "Sim";
return "Nao";
}

async function buscaCampo(){
var html="";
var data = await fetchCampoFormulario();
console.log(data);
for (var i = 0;i<data.length;i++){
      
         console.log(i);

	 html+= '<tr>'
    html+=  '<th scope="row">'+i+'</th>'
    html+=  '<td>'+data[i].nome+'</td>'
    html+=  '<td>'+data[i].tipo+'</td>'
    html+=   '<td>'+ changeLabel(data[i].obrigatorio)+'</td>' 
    html+=   '<td hidden >'+ data[i].id+ '</td>' 
     html+= '<td>'

html+='<button type="button" class="btn btn-editar"  onclick="mostraEscondeFormulario(1,'+data[i].id+')" >Editar</button> ' 
html+='<button type="button" class="btn btn-excluir"  >Excluir</button>'
 html+= '</tr>' 
}

console.log(html);

document.getElementById("tbodyCampo").innerHTML = "";
document.getElementById('tbodyCampo').innerHTML+=html;


 
} 
buscaCampo();

</script>






  </tbody>



</table>
<br><br>
 <p class="u-align-center u-custom-font u-font-oswald u-text u-text-3"><nav aria-label="...">
  <ul class="pagination" >
    <li class="page-item disabled">
      <a class="page-link" href="#" tabindex="-1">Anterior</a>
    </li>
    <li class="page-item" ><a class="page-link"  style="color: purple" href="#">1</a></li>
    <li class="page-item active">
      <a class="page-link"  style="background-color:purple;border-color:purple" href="#">2 <span class="sr-only">(atual)</span></a>
    </li>
    <li class="page-item"><a  style="color: purple" class="page-link" href="#">3</a></li>
    <li class="page-item">
      <a class="page-link"  style="color: purple" href="#">Próximo</a>
    </li>
  </ul>
</nav></p>
    </div> 


<div id="formFormularioDiv" style="visibility: hidden;" >
 
 
<form id="formFormulario" class="form-horizontal" method="POST">

<fieldset>
<div class="panel panel-primary">
    
     <div class="panel-body">
<div class="form-group">

<div> <p class="title">Formulario<p> </div>
 
<div class="col-md-11 control-label">
        <p class="help-block"><h11>*</h11> Campo Obrigatório </p>
</div>
</div>

 
  
<!-- Text input-->
<div class="form-group">


    <label class="col-md-4 control-label" for="prependedtext">Nome do campo<h11>*</h11></label>

  <div class="col-md-4">
    <input id="nome_campo" name="nome_campo" placeholder="Digite o nome do campo" class="form-control input-md" required="" type="text">
</div>
</div>





<div class="form-group">
  <label class="col-md-4 control-label" for="tipo_campo">Tipo do campo<h11>*</h11></label>
  <div class="col-md-4">
    <select required id="tipo_campo_select" name="tipo_campo_select" class="form-control">
      <option value="texto">Texto</option>
      <option value="numerico">Numerico</option>
      <option value="data">Data</option>
    </select>

  </div>
</div>

<div class="form-group">
<label class="col-md-4 control-label" for="campo_obrigatorio">Obrigatorio<h11>*</h11></label>
  <div class="col-md-4">
    <select required id="obrigatorio_select" name="obrigatorio_select" class="form-control">
      <option value="sim">Sim</option>
      <option value="nao">Nao</option>  
    </select>
  </div>
</div>

 


 <!-- Button (Double) -->
<div class="form-row">
    <div class="form-group col-md-6">
    <button id="cadastrar_campo" name="cadastrar_campo" class="btn btn-success" type="Submit" onclick="addCampo();return false">Cadastrar</button> 

    <button id="cancelar_campo" name="cancelar_campo" class="btn btn-danger" type="Reset"  onclick="meMostraFormulario()">Cancelar</button>
  </div> 
</div>
 
  
 
 

</div>
</div>


</fieldset> 
</form>

</div> 



</div>
     
</div>
  </div>
</div>
 
 <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>

 
    <!-- JavaScript (Opcional) -->
    <!-- jQuery primeiro, depois Popper.js, depois Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>

	      <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
		
<div class="formAdoption">
<p class="title">Formulario de Adocao<p>
<form>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputEmail4">Email</label>
      <input type="email" class="form-control" id="inputEmail" placeholder="Email">
    </div>
    <div class="form-group col-md-6">
      <label for="inputPassword4">Senha</label>
      <input type="password" class="form-control" id="inputPassword" placeholder="Senha">
    </div>
  </div>
   <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputEmail4">Email</label>
      <input type="email" class="form-control" id="inputEmail" placeholder="Email">
    </div>
    <div class="form-group col-md-6">
      <label for="inputPassword4">Senha</label>
      <input type="password" class="form-control" id="inputPassword4" placeholder="Senha">
    </div>
  </div>


  <button type="submit" class="btn btn-primary">Entrar</button>
</form>
</div>
     
    <footer class="u-clearfix u-custom-color-12 u-footer" id="sec-33d3"><div class="u-clearfix u-sheet u-sheet-1">
        <div class="u-clearfix u-expanded-width u-gutter-30 u-layout-wrap u-layout-wrap-1">
          <div class="u-gutter-0 u-layout">
            <div class="u-layout-row">
              <div class="u-align-center-sm u-align-center-xs u-align-left-md u-align-left-xl u-container-style u-layout-cell u-left-cell u-size-20 u-size-20-md u-layout-cell-1">
                <div class="u-container-layout u-container-layout-1">
                  <p class="u-custom-font u-font-lobster u-text u-text-1">Links uteis</p>
                  <a href="eventos.html" class="u-border-1 u-border-active-palette-2-base u-border-hover-palette-1-base u-btn u-button-style u-none u-text-hover-custom-color-4 u-text-white u-btn-1">Eventos</a>
                  <a href="https://nicepage.com/k/prescription-medicine-html-templates" class="u-border-1 u-border-active-palette-2-base u-border-hover-palette-1-base u-btn u-button-style u-none u-text-hover-custom-color-4 u-text-white u-btn-2">Adote</a>
                  <a href="https://nicepage.com/k/prescription-medicine-html-templates" class="u-border-1 u-border-active-palette-2-base u-border-hover-palette-1-base u-btn u-button-style u-none u-text-hover-custom-color-4 u-text-white u-btn-3">Instituicoes</a>
                </div>
              </div>
              <div class="u-align-center-sm u-align-right-md u-container-style u-layout-cell u-size-20 u-size-20-md u-layout-cell-2">
                <div class="u-container-layout u-container-layout-2">
                  <a href="home.html" class="u-border-1 u-border-active-custom-color-10 u-border-hover-custom-color-10 u-btn u-button-style u-custom-font u-font-lobster u-none u-text-body-alt-color u-btn-4">Minha Audoção</a>
                  <div alt="" class="u-image u-image-circle u-image-1" data-image-width="1280" data-image-height="853"></div>
                </div>
              </div>
              <div class="u-align-center-sm u-align-center-xs u-align-left-md u-align-right-lg u-align-right-xl u-container-style u-layout-cell u-right-cell u-size-20 u-size-20-md u-layout-cell-3">
                <div class="u-container-layout u-container-layout-3">
                  <div class="u-social-icons u-spacing-10 u-social-icons-1">
                    <a class="u-social-url" title="facebook" target="_blank" href=""><span class="u-icon u-icon-circle u-social-facebook u-social-icon u-icon-1"><svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112" style=""><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-bc1f"></use></svg><svg class="u-svg-content" viewBox="0 0 112 112" x="0" y="0" id="svg-bc1f"><circle fill="currentColor" cx="56.1" cy="56.1" r="55"></circle><path fill="#FFFFFF" d="M73.5,31.6h-9.1c-1.4,0-3.6,0.8-3.6,3.9v8.5h12.6L72,58.3H60.8v40.8H43.9V58.3h-8V43.9h8v-9.2
            c0-6.7,3.1-17,17-17h12.5v13.9H73.5z"></path></svg></span>
                    </a>
                    <a class="u-social-url" title="twitter" target="_blank" href=""><span class="u-icon u-icon-circle u-social-icon u-social-twitter u-icon-2"><svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112" style=""><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-08bb"></use></svg><svg class="u-svg-content" viewBox="0 0 112 112" x="0" y="0" id="svg-08bb"><circle fill="currentColor" class="st0" cx="56.1" cy="56.1" r="55"></circle><path fill="#FFFFFF" d="M83.8,47.3c0,0.6,0,1.2,0,1.7c0,17.7-13.5,38.2-38.2,38.2C38,87.2,31,85,25,81.2c1,0.1,2.1,0.2,3.2,0.2
            c6.3,0,12.1-2.1,16.7-5.7c-5.9-0.1-10.8-4-12.5-9.3c0.8,0.2,1.7,0.2,2.5,0.2c1.2,0,2.4-0.2,3.5-0.5c-6.1-1.2-10.8-6.7-10.8-13.1
            c0-0.1,0-0.1,0-0.2c1.8,1,3.9,1.6,6.1,1.7c-3.6-2.4-6-6.5-6-11.2c0-2.5,0.7-4.8,1.8-6.7c6.6,8.1,16.5,13.5,27.6,14
            c-0.2-1-0.3-2-0.3-3.1c0-7.4,6-13.4,13.4-13.4c3.9,0,7.3,1.6,9.8,4.2c3.1-0.6,5.9-1.7,8.5-3.3c-1,3.1-3.1,5.8-5.9,7.4
            c2.7-0.3,5.3-1,7.7-2.1C88.7,43,86.4,45.4,83.8,47.3z"></path></svg></span>
                    </a>
                    <a class="u-social-url" title="instagram" target="_blank" href=""><span class="u-icon u-icon-circle u-social-icon u-social-instagram u-icon-3"><svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112" style=""><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-86f5"></use></svg><svg class="u-svg-content" viewBox="0 0 112 112" x="0" y="0" id="svg-86f5"><circle fill="currentColor" cx="56.1" cy="56.1" r="55"></circle><path fill="#FFFFFF" d="M55.9,38.2c-9.9,0-17.9,8-17.9,17.9C38,66,46,74,55.9,74c9.9,0,17.9-8,17.9-17.9C73.8,46.2,65.8,38.2,55.9,38.2
            z M55.9,66.4c-5.7,0-10.3-4.6-10.3-10.3c-0.1-5.7,4.6-10.3,10.3-10.3c5.7,0,10.3,4.6,10.3,10.3C66.2,61.8,61.6,66.4,55.9,66.4z"></path><path fill="#FFFFFF" d="M74.3,33.5c-2.3,0-4.2,1.9-4.2,4.2s1.9,4.2,4.2,4.2s4.2-1.9,4.2-4.2S76.6,33.5,74.3,33.5z"></path><path fill="#FFFFFF" d="M73.1,21.3H38.6c-9.7,0-17.5,7.9-17.5,17.5v34.5c0,9.7,7.9,17.6,17.5,17.6h34.5c9.7,0,17.5-7.9,17.5-17.5V38.8
            C90.6,29.1,82.7,21.3,73.1,21.3z M83,73.3c0,5.5-4.5,9.9-9.9,9.9H38.6c-5.5,0-9.9-4.5-9.9-9.9V38.8c0-5.5,4.5-9.9,9.9-9.9h34.5
            c5.5,0,9.9,4.5,9.9,9.9V73.3z"></path></svg></span>
                    </a>
                    <a class="u-social-url" title="linkedin" target="_blank" href=""><span class="u-icon u-icon-circle u-social-icon u-social-linkedin u-icon-4"><svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112" style=""><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-b0c3"></use></svg><svg class="u-svg-content" viewBox="0 0 112 112" x="0" y="0" id="svg-b0c3"><circle fill="currentColor" cx="56.1" cy="56.1" r="55"></circle><path fill="#FFFFFF" d="M41.3,83.7H27.9V43.4h13.4V83.7z M34.6,37.9L34.6,37.9c-4.6,0-7.5-3.1-7.5-7c0-4,3-7,7.6-7s7.4,3,7.5,7
            C42.2,34.8,39.2,37.9,34.6,37.9z M89.6,83.7H76.2V62.2c0-5.4-1.9-9.1-6.8-9.1c-3.7,0-5.9,2.5-6.9,4.9c-0.4,0.9-0.4,2.1-0.4,3.3v22.5
            H48.7c0,0,0.2-36.5,0-40.3h13.4v5.7c1.8-2.7,5-6.7,12.1-6.7c8.8,0,15.4,5.8,15.4,18.1V83.7z"></path></svg></span>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div></footer>



 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-ui-timepicker-addon/1.6.3/jquery-ui-timepicker-addon.min.js"></script>
    <script>

 
let datas = document.getElementsByClassName("datepicker") // Conteúdo a copiar
console.log(datas.length);

   jQuery(function($) {
        $("input.datepicker").datetimepicker({
    showOn: "focus",
    dateFormat: "dd/mm/yy",
    dayNames: ["Domingo", "Segunda", "Terça", "Quarte", "Quinta", "Sexta", "Sábado"],
    dayNamesMin: ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "Sab"],
    monthNames: ['Janeiro','Fevereiro','Março','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'],
 dateFormat: 'dd/mm/yy',
        closeText:"Fechar",
        prevText:"&#x3C;Anterior",
        nextText:"Próximo&#x3E;",
        currentText:"Hoje",
		 timeText:"Hora"	,
        minuteText :"Minutos",
	      hourText:"Hora"	
 }



);
    });


</script>





 

 <!-- JavaScript (Opcional) -->
    <!-- jQuery primeiro, depois Popper.js, depois Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
 
</html>
